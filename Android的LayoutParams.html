<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Android的LayoutParams</title>
<!--  -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta name='viewport' content='width=device-width,initial-scale=1'><link rel='stylesheet' href='/res/code.css' /><link rel='stylesheet' href='/res/solarized-light.min.css' />
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="http://www.iknockdoor.com/"> UP </a>
|
 <a accesskey="H" href="http://www.iknockdoor.com/"> HOME </a>
|
<a accesskey="H" href=""> RSS </a>
</div><div id="content">
<h1 class="title">Android的LayoutParams</h1>
<p>
之前对布局文件中的各控件的布局参数的理解一直存在一些误区，需要明确以下几个关键点
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">布局参数由view持有，由view直接上级的viewgroup使用</h2>
<div class="outline-text-2" id="text-1">
<p>
LayoutParams虽然由view持有，但是是ViewGroup的布局属性，根据不同
ViewGroup会有不同的属性，同时也是由ViewGroup使用的。
</p>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">LayoutParams的创建时机</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">从布局文件创建</h3>
<div class="outline-text-3" id="text-2-1">
<p>
由inflator在解析xml时根据view的ViewGourp调用ViewGroup的方法，并根据
view的attrs创建一个LayoutParams对象，并在add view到ViewGroup时给
view持有
</p>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">从代码创建</h3>
<div class="outline-text-3" id="text-2-2">
<p>
这就简单了，直接创建，add view时作为参数传进去
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">LayoutParams的类型</h2>
<div class="outline-text-2" id="text-3">
<p>
view持有的LayoutParams一定是父容器ViewGroup的LayoutParams类，在添加到ViewGroup时会做类型检查，这个逻辑也是合理的
</p>
<ul class="org-ul">
<li>LayoutParams是由ViewGroup使用的，所以必须是ViewGroup知道的类型，才能使用
</li>
<li>也因此，当view在不同ViewGroup下时可以由不同的布局参数
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">自定义布局</h2>
<div class="outline-text-2" id="text-4">
<p>
在自定义布局时需要重载创建的LayoutParams的几个方法，如果需要，也需要自定义LayoutParams
</p>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">参考</h2>
<div class="outline-text-2" id="text-5">
<p>
<a href="http://blog.csdn.net/qinjuning/article/details/8051811">这里</a> 和 <a href="http://yuanfentiank789.github.io/2016/06/08/layoutparams%25E5%2588%2586%25E6%259E%2590/">这里</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">

<div id="org-div-home-and-up">
 <a href="/index.html"> 返回目录 </a>
</div>
<p class="author">by chappie (iknockdoor.com@gmail.com)</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-103057848-1', 'auto');
        ga('send', 'pageview');
</script>
</div>
</body>
</html>
